<!DOCTYPE html>
<html>
	<head>
		<title>Legume Information System :: 
            <%= 
            page_title_suffix = yield(:title)
            if page_title_suffix.blank? # default to controller name
                page_title_suffix = controller.controller_name.capitalize
            end
            page_title_suffix 
            %>
		</title>
        <link rel="alternate" type="application/rss+xml" title="News Articles" href="news_articles.rss" />
        <%= javascript_include_tag :defaults, "dropdownnav", "fancy-zoom", "phylogenetic-tree", "wz_graphics", 
            "jquery-1.5.1.min", "jquery-ui-1.8.12.custom.min" %>
	    <script type="text/javascript">
	        var $j = jQuery.noConflict();
	    </script>
        <%= stylesheet_link_tag :all %>
        <%= csrf_meta_tag %>
	</head>
	<body <% if params[:id].to_s.downcase == "species" %> onload="loadMap()" onunload="GUnload()" <% end %>>
        <div id="main">
            <%= render :partial => "shared/user_nav" %>
            <div id="content">
                <div id="logo">
                    <div id="logo_left"></div>
                    <div id="logo_right">
                        <div id="rss">
                            <%= link_to image_tag("feed.png", :alt => "RSS Feed"), news_articles_url(:rss) %>
                        </div>
                        <div id="google_translate_element"></div>
                            <script type="text/javascript">
                                function googleTranslateElementInit() {
                                  new google.translate.TranslateElement({
                                    pageLanguage: 'en'
                                  }, 'google_translate_element');
                                }
                            </script>
                            <script type="text/javascript" src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                    </div>
                </div>
                <div id="nav">
                    <%= render :partial => "shared/nav" %>
                </div>
                <div id="frame">
                    <div id="singlecol">
                        <div id="interior">
                            <% flash.each do |name, msg| %>
                                <%= content_tag :div, msg, :id => name %>
                            <% end %>
                            <%= yield %>
                        </div>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
            <%= render :partial => "shared/footer" %>
        </div>
        <script type="text/javascript"> 
            $("logo_left").observe("click", function() {
                document.location.pathname="/";
            });
            
            document.observe('dom:loaded', function() {
                $$("a.photo-link").each(function(el) { 
                    new FancyZoom(el, {edgy:true}); 
                })
            });
        </script>
	</body>
</html>
